export class Species {
  constructor(
    private _speciesName: string,
    private _stats: number[],
  ) {
  }

  stats(): number[] {
    return this._stats
  }

  statsString(): string {
    return this._stats.join("-")
  }
}

export interface DistanceSpecies<T extends Species> {
  distanceNorm: (lhd: T, rhd: T) => number
  distanceForeach: (lhd: T, rhd: T) => number[]
}

export const defaultDistanceSpecies: DistanceSpecies<Species> = {
  distanceForeach: (lhd, rhd) => {
    return Array.from(lhd.stats().map((le, i) => Math.abs(le - rhd.stats()[i])))
  },
  distanceNorm: (lhd, rhd) => {
    return Math.sqrt(
      lhd.stats().map((le, i) => Math.pow(le - rhd.stats()[i], 2)).reduce((l, r) => l + r, 0)
    )
  },
}

const speciesMapNative = new Map<string, number[]>([
  ["フシギダネ", [45, 49, 49, 65, 65, 45]],
  ["フシギソウ", [60, 62, 63, 80, 80, 60]],
  ["フシギバナ", [80, 82, 83, 100, 100, 80]],
  ["ヒトカゲ", [39, 52, 43, 60, 50, 65]],
  ["リザード", [58, 64, 58, 80, 65, 80]],
  ["リザードン", [78, 84, 78, 109, 85, 100]],
  ["ゼニガメ", [44, 48, 65, 50, 64, 43]],
  ["カメール", [59, 63, 80, 65, 80, 58]],
  ["カメックス", [79, 83, 100, 85, 105, 78]],
  ["キャタピー", [45, 30, 35, 20, 20, 45]],
  ["トランセル", [50, 20, 55, 25, 25, 30]],
  ["バタフリー", [60, 45, 50, 90, 80, 70]],
  ["ビードル", [40, 35, 30, 20, 20, 50]],
  ["コクーン", [45, 25, 50, 25, 25, 35]],
  ["スピアー", [65, 90, 40, 45, 80, 75]],
  ["ポッポ", [40, 45, 40, 35, 35, 56]],
  ["ピジョン", [63, 60, 55, 50, 50, 71]],
  ["ピジョット", [83, 80, 75, 70, 70, 101]],
  ["コラッタ", [30, 56, 35, 25, 35, 72]],
  ["ラッタ", [55, 81, 60, 50, 70, 97]],
  ["オニスズメ", [40, 60, 30, 31, 31, 70]],
  ["オニドリル", [65, 90, 65, 61, 61, 100]],
  ["アーボ", [35, 60, 44, 40, 54, 55]],
  ["アーボック", [60, 95, 69, 65, 79, 80]],
  ["ピカチュウ", [35, 55, 40, 50, 50, 90]],
  ["ライチュウ", [60, 90, 55, 90, 80, 110]],
  ["サンド", [50, 75, 85, 20, 30, 40]],
  ["サンドパン", [75, 100, 110, 45, 55, 65]],
  ["ニドラン♀", [55, 47, 52, 40, 40, 41]],
  ["ニドリーナ", [70, 62, 67, 55, 55, 56]],
  ["ニドクイン", [90, 92, 87, 75, 85, 76]],
  ["ニドラン♂", [46, 57, 40, 40, 40, 50]],
  ["ニドリーノ", [61, 72, 57, 55, 55, 65]],
  ["ニドキング", [81, 102, 77, 85, 75, 85]],
  ["ピッピ", [70, 45, 48, 60, 65, 35]],
  ["ピクシー", [95, 70, 73, 95, 90, 60]],
  ["ロコン", [38, 41, 40, 50, 65, 65]],
  ["キュウコン", [73, 76, 75, 81, 100, 100]],
  ["プリン", [115, 45, 20, 45, 25, 20]],
  ["プクリン", [140, 70, 45, 85, 50, 45]],
  ["ズバット", [40, 45, 35, 30, 40, 55]],
  ["ゴルバット", [75, 80, 70, 65, 75, 90]],
  ["ナゾノクサ", [45, 50, 55, 75, 65, 30]],
  ["クサイハナ", [60, 65, 70, 85, 75, 40]],
  ["ラフレシア", [75, 80, 85, 110, 90, 50]],
  ["パラス", [35, 70, 55, 45, 55, 25]],
  ["パラセクト", [60, 95, 80, 60, 80, 30]],
  ["コンパン", [60, 55, 50, 40, 55, 45]],
  ["モルフォン", [70, 65, 60, 90, 75, 90]],
  ["ディグダ", [10, 55, 25, 35, 45, 95]],
  ["ダグトリオ", [35, 100, 50, 50, 70, 120]],
  ["ニャース", [40, 45, 35, 40, 40, 90]],
  ["ペルシアン", [65, 70, 60, 65, 65, 115]],
  ["コダック", [50, 52, 48, 65, 50, 55]],
  ["ゴルダック", [80, 82, 78, 95, 80, 85]],
  ["マンキー", [40, 80, 35, 35, 45, 70]],
  ["オコリザル", [65, 105, 60, 60, 70, 95]],
  ["ガーディ", [55, 70, 45, 70, 50, 60]],
  ["ウインディ", [90, 110, 80, 100, 80, 95]],
  ["ニョロモ", [40, 50, 40, 40, 40, 90]],
  ["ニョロゾ", [65, 65, 65, 50, 50, 90]],
  ["ニョロボン", [90, 95, 95, 70, 90, 70]],
  ["ケーシィ", [25, 20, 15, 105, 55, 90]],
  ["ユンゲラー", [40, 35, 30, 120, 70, 105]],
  ["フーディン", [55, 50, 45, 135, 95, 120]],
  ["ワンリキー", [70, 80, 50, 35, 35, 35]],
  ["ゴーリキー", [80, 100, 70, 50, 60, 45]],
  ["カイリキー", [90, 130, 80, 65, 85, 55]],
  ["マダツボミ", [50, 75, 35, 70, 30, 40]],
  ["ウツドン", [65, 90, 50, 85, 45, 55]],
  ["ウツボット", [80, 105, 65, 100, 70, 70]],
  ["メノクラゲ", [40, 40, 35, 50, 100, 70]],
  ["ドククラゲ", [80, 70, 65, 80, 120, 100]],
  ["イシツブテ", [40, 80, 100, 30, 30, 20]],
  ["ゴローン", [55, 95, 115, 45, 45, 35]],
  ["ゴローニャ", [80, 120, 130, 55, 65, 45]],
  ["ポニータ", [50, 85, 55, 65, 65, 90]],
  ["ギャロップ", [65, 100, 70, 80, 80, 105]],
  ["ヤドン", [90, 65, 65, 40, 40, 15]],
  ["ヤドラン", [95, 75, 110, 100, 80, 30]],
  ["コイル", [25, 35, 70, 95, 55, 45]],
  ["レアコイル", [50, 60, 95, 120, 70, 70]],
  ["カモネギ", [52, 90, 55, 58, 62, 60]],
  ["ドードー", [35, 85, 45, 35, 35, 75]],
  ["ドードリオ", [60, 110, 70, 60, 60, 110]],
  ["パウワウ", [65, 45, 55, 45, 70, 45]],
  ["ジュゴン", [90, 70, 80, 70, 95, 70]],
  ["ベトベター", [80, 80, 50, 40, 50, 25]],
  ["ベトベトン", [105, 105, 75, 65, 100, 50]],
  ["シェルダー", [30, 65, 100, 45, 25, 40]],
  ["パルシェン", [50, 95, 180, 85, 45, 70]],
  ["ゴース", [30, 35, 30, 100, 35, 80]],
  ["ゴースト", [45, 50, 45, 115, 55, 95]],
  ["ゲンガー", [60, 65, 60, 130, 75, 110]],
  ["イワーク", [35, 45, 160, 30, 45, 70]],
  ["スリープ", [60, 48, 45, 43, 90, 42]],
  ["スリーパー", [85, 73, 70, 73, 115, 67]],
  ["クラブ", [30, 105, 90, 25, 25, 50]],
  ["キングラー", [55, 130, 115, 50, 50, 75]],
  ["ビリリダマ", [40, 30, 50, 55, 55, 100]],
  ["マルマイン", [60, 50, 70, 80, 80, 150]],
  ["タマタマ", [60, 40, 80, 60, 45, 40]],
  ["ナッシー", [95, 95, 85, 125, 75, 55]],
  ["カラカラ", [50, 50, 95, 40, 50, 35]],
  ["ガラガラ", [60, 80, 110, 50, 80, 45]],
  ["サワムラー", [50, 120, 53, 35, 110, 87]],
  ["エビワラー", [50, 105, 79, 35, 110, 76]],
  ["ベロリンガ", [90, 55, 75, 60, 75, 30]],
  ["ドガース", [40, 65, 95, 60, 45, 35]],
  ["マタドガス", [65, 90, 120, 85, 70, 60]],
  ["サイホーン", [80, 85, 95, 30, 30, 25]],
  ["サイドン", [105, 130, 120, 45, 45, 40]],
  ["ラッキー", [250, 5, 5, 35, 105, 50]],
  ["モンジャラ", [65, 55, 115, 100, 40, 60]],
  ["ガルーラ", [105, 95, 80, 40, 80, 90]],
  ["タッツー", [30, 40, 70, 70, 25, 60]],
  ["シードラ", [55, 65, 95, 95, 45, 85]],
  ["トサキント", [45, 67, 60, 35, 50, 63]],
  ["アズマオウ", [80, 92, 65, 65, 80, 68]],
  ["ヒトデマン", [30, 45, 55, 70, 55, 85]],
  ["スターミー", [60, 75, 85, 100, 85, 115]],
  ["バリヤード", [40, 45, 65, 100, 120, 90]],
  ["ストライク", [70, 110, 80, 55, 80, 105]],
  ["ルージュラ", [65, 50, 35, 115, 95, 95]],
  ["エレブー", [65, 83, 57, 95, 85, 105]],
  ["ブーバー", [65, 95, 57, 100, 85, 93]],
  ["カイロス", [65, 125, 100, 55, 70, 85]],
  ["ケンタロス", [75, 100, 95, 40, 70, 110]],
  ["コイキング", [20, 10, 55, 15, 20, 80]],
  ["ギャラドス", [95, 125, 79, 60, 100, 81]],
  ["ラプラス", [130, 85, 80, 85, 95, 60]],
  ["メタモン", [48, 48, 48, 48, 48, 48]],
  ["イーブイ", [55, 55, 50, 45, 65, 55]],
  ["シャワーズ", [130, 65, 60, 110, 95, 65]],
  ["サンダース", [65, 65, 60, 110, 95, 130]],
  ["ブースター", [65, 130, 60, 95, 110, 65]],
  ["ポリゴン", [65, 60, 70, 85, 75, 40]],
  ["オムナイト", [35, 40, 100, 90, 55, 35]],
  ["オムスター", [70, 60, 125, 115, 70, 55]],
  ["カブト", [30, 80, 90, 55, 45, 55]],
  ["カブトプス", [60, 115, 105, 65, 70, 80]],
  ["プテラ", [80, 105, 65, 60, 75, 130]],
  ["カビゴン", [160, 110, 65, 65, 110, 30]],
  ["フリーザー", [90, 85, 100, 95, 125, 85]],
  ["サンダー", [90, 90, 85, 125, 90, 100]],
  ["ファイヤー", [90, 100, 90, 125, 85, 90]],
  ["ミニリュウ", [41, 64, 45, 50, 50, 50]],
  ["ハクリュー", [61, 84, 65, 70, 70, 70]],
  ["カイリュー", [91, 134, 95, 100, 100, 80]],
  ["ミュウツー", [106, 110, 90, 154, 90, 130]],
  ["ミュウ", [100, 100, 100, 100, 100, 100]],
])

export const speciesNameList = Array.from(speciesMapNative.keys())

export function speciesByName(name: string): Species {
  const stats = speciesMapNative.get(name)
  if (stats === undefined) {
    return new Species("MissingNo", [0, 0, 0, 0, 0, 0])
  }
  return new Species(name, stats)
}

export function randomSpecies(): Species {
  const allSpeciesNative = Array.from(speciesMapNative.entries())
  const speciesNative = allSpeciesNative[Math.floor(Math.random() * allSpeciesNative.length)]
  return new Species(
    speciesNative[0],
    speciesNative[1],
  )
}
